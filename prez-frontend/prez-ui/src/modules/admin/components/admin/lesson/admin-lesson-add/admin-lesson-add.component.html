<div style="height: 100%; display: flex; flex-direction: column">
    <h2 mat-dialog-title style="flex: 1">
        <span>
            <mat-icon>school</mat-icon>
            Add a lesson
        </span>
    </h2>
    <mat-dialog-content class="mat-typography" style="flex: 1; width: 50vh">
        <form *ngIf="data.classroomElements" [formGroup]="lessonForm" style="display:flex; flex-direction: column">
            <mat-form-field appearance="outline">
                <mat-label>Start at</mat-label>
                <input formControlName="start_at" matInput placeholder="start date" type="datetime-local">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>End at</mat-label>
                <input formControlName="end_at" matInput placeholder="start date" type="datetime-local">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Description</mat-label>
                <input formControlName="description" matInput  placeholder="Mathematics" type="text">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Classroom</mat-label>
                <mat-select formControlName="class_uid">
                    <mat-option *ngFor="let classroom of data.classroomElements" [value]="classroom.uid">{{classroom.promotion}} {{classroom.description}}</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Professor</mat-label>
                <mat-select formControlName="professor_uid">
                    <mat-option *ngFor="let professor of data.professorElements" [value]="professor.uid">{{professor.first_name}} {{professor.last_name}}</mat-option>
                </mat-select>
            </mat-form-field>
        </form>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <span *ngIf="addMessage" style="color: green; padding: 2px; text-align: center;">{{addMessage}}</span>
        <button
            (click)="addLesson(lessonForm.value)"
            *ngIf="!addLoading"
            [disabled]="!lessonForm.valid"
            [formGroup]="lessonForm"
            class="submit-btn"
            mat-raised-button>
            Add lesson
        </button>
        <span *ngIf="addLoading" style="text-align: center; justify-content: center">
            <mat-spinner diameter="20"></mat-spinner>
        </span>
        <button mat-button mat-dialog-close>Close</button>
    </mat-dialog-actions>
</div>
